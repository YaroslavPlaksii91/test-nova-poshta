"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[625],{728:function(e,t,n){n.d(t,{Z:function(){return a}});var r="Button_button__wiIYs",s=n(184),a=function(e){var t=e.type,n=e.width,a=e.children,u=e.onClick;return(0,s.jsx)("button",{type:t,className:r,onClick:u,style:{width:n},children:a})}},390:function(e,t,n){n.d(t,{X:function(){return l},a:function(){return o}});var r=n(861),s=n(757),a=n.n(s),u=n(243),c="1b28326edcff857f4ee526a21a2b6018";function o(e){return i.apply(this,arguments)}function i(){return(i=(0,r.Z)(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.post("",{apiKey:c,modelName:"TrackingDocument",calledMethod:"getStatusDocuments",methodProperties:{Documents:[{DocumentNumber:t}]}});case 2:return n=e.sent,r=n.data,e.abrupt("return",r.data[0]);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return d.apply(this,arguments)}function d(){return d=(0,r.Z)(a().mark((function e(){var t,n,r,s,o=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"\u041a\u0438\u0457\u0432",n=o.length>1&&void 0!==o[1]?o[1]:"1",e.next=4,u.Z.post("",{apiKey:c,modelName:"Address",calledMethod:"getWarehouses",methodProperties:{CityName:t,Page:n,Limit:"100",Language:"UA"}});case 4:return r=e.sent,s=r.data,e.abrupt("return",s.data);case 7:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}u.Z.defaults.baseURL="https://api.novaposhta.ua/v2.0/json/"},825:function(e,t,n){n.r(t),n.d(t,{default:function(){return Z}});var r=n(433),s=n(439),a=n(791),u=n(861),c=n(757),o=n.n(c),i=n(596),l=n(390),d=n(728),m="DocumentForm_form__iABTt",p=n(184),f=function(e){var t=e.docNumber,n=e.documents,r=e.setDocNumber,s=e.setDocStatus,a=e.addNewDocument,c=e.setIsLoading,f=function(){var e=(0,u.Z)(o().mark((function e(r){var u,d,m,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),/^\d{14}$/.test(t)){e.next=5;break}return e.abrupt("return",i.Am.warn("\u041d\u043e\u043c\u0435\u0440 \u043f\u043e\u0432\u0438\u043d\u0435\u043d \u043c\u0456\u0441\u0442\u0438\u0442\u0438 14 \u0446\u0438\u0444\u0440"));case 5:if(!n.includes(t)){e.next=7;break}return e.abrupt("return",i.Am.warn("\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u0432\u0436\u0435 \u0456\u0441\u043d\u0443\u0454"));case 7:return e.prev=7,c(!0),e.next=11,(0,l.a)(t);case 11:u=e.sent,d=u.Status,m=u.WarehouseSender,p=u.WarehouseRecipient,s({status:d,sender:m,recipient:p}),a(t),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(7),console.log(e.t0);case 22:return e.prev=22,c(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[7,19,22,25]])})));return function(t){return e.apply(this,arguments)}}();return(0,p.jsxs)("form",{onSubmit:f,className:m,children:[(0,p.jsx)("label",{htmlFor:"documentNumber"}),(0,p.jsx)("input",{id:"documentNumber",type:"text",name:"documentNumber",title:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u043e\u043c\u0435\u0440 \u043d\u0430\u043a\u043b\u0430\u0434\u043d\u043e\u0457",required:!0,value:t,onChange:function(e){r(e.target.value)}}),(0,p.jsx)(d.Z,{type:"submit",width:150,children:"Get status TTN"})]})},h="DocumentStatus_section__EnAfb",x="DocumentStatus_title__jsuyB",v="DocumentStatus_text__1EvRi",_=function(e){var t=e.info;return(0,p.jsxs)("section",{className:h,children:[(0,p.jsxs)("p",{className:v,children:[(0,p.jsx)("span",{className:x,children:"\u0421\u0442\u0430\u0442\u0443\u0441 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438:"})," ",t.status]}),(0,p.jsxs)("p",{className:v,children:[(0,p.jsx)("span",{className:x,children:"\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e:"})," ",t.sender]}),(0,p.jsxs)("p",{className:v,children:[(0,p.jsx)("span",{className:x,children:"\u041e\u0442\u0440\u0438\u043c\u0430\u043d\u043e:"})," ",t.recipient]})]})},b=n(0),N="History_aside__pQShz",g="History_title__xknBX",j="History_list__TaRUR",S="History_item__Y4S9P",w="History_itemText__8p9TF",y="History_icon__-R7Oh",k=function(e){var t=e.documents,n=e.setDocStatus,s=e.setDocNumber,a=e.setDocuments,c=e.setIsLoading,m=e.docNumber,f=function(){var e=(0,u.Z)(o().mark((function e(t){var r,a,u,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.target.textContent!==m){e.next=2;break}return e.abrupt("return",i.Am.warn("\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u0432\u0436\u0435 \u0432\u0438\u0431\u0440\u0430\u043d\u0438\u0439"));case 2:return e.prev=2,c(!0),e.next=6,(0,l.a)(t.target.textContent);case 6:r=e.sent,a=r.Status,u=r.WarehouseSender,d=r.WarehouseRecipient,n({status:a,sender:u,recipient:d}),s(t.target.textContent),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0);case 17:return e.prev=17,c(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(t){return e.apply(this,arguments)}}(),h=function(e){var n=e.target.parentNode.previousSibling.textContent||e.target.previousSibling.textContent,s=t.filter((function(e){return e!==n}));a((0,r.Z)(s))};return(0,p.jsxs)("aside",{className:N,children:[(0,p.jsx)("h2",{className:g,children:"\u0406\u0441\u0442\u043e\u0440\u0456\u044f"}),(0,p.jsx)("ul",{className:j,children:t.length>0&&t.map((function(e){return(0,p.jsxs)("li",{className:S,children:[(0,p.jsx)("p",{className:w,tabIndex:"0",onClick:f,children:e}),(0,p.jsx)(b.aTj,{className:y,tabIndex:"0",title:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0437 \u0456\u0441\u0442\u043e\u0440\u0456\u0457",onClick:h})]},e)}))}),t.length>0&&(0,p.jsx)(d.Z,{type:"button",width:150,onClick:function(){localStorage.removeItem("documents"),a([])},children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u0438 \u0456\u0441\u0442\u043e\u0440\u0456\u044e"})]})},D="StatusView_wrapper__wKXue",Z=function(e){var t=e.setIsLoading,n=(0,a.useState)(""),u=(0,s.Z)(n,2),c=u[0],o=u[1],i=(0,a.useState)(""),l=(0,s.Z)(i,2),d=l[0],m=l[1],h=(0,a.useState)((function(){var e;return null!==(e=JSON.parse(localStorage.getItem("documents")))&&void 0!==e?e:[]})),x=(0,s.Z)(h,2),v=x[0],b=x[1],N=(0,a.useRef)(!0);(0,a.useEffect)((function(){N.current?N.current=!1:localStorage.setItem("documents",JSON.stringify(v))}),[v]);var g=function(e){m(e)};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(f,{docNumber:c,documents:v,setDocNumber:o,setDocStatus:g,addNewDocument:function(e){b([].concat((0,r.Z)(v),[e]))},setIsLoading:t}),(0,p.jsxs)("div",{className:D,children:[d&&(0,p.jsx)(_,{info:d}),(0,p.jsx)(k,{documents:v,setDocStatus:g,setDocNumber:o,setDocuments:b,setIsLoading:t,docNumber:c})]})]})}}}]);
//# sourceMappingURL=status-view.799f760d.chunk.js.map